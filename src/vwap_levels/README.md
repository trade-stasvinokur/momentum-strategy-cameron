# VWAP¬†Levels¬†API ‚Äì REST‚Äë—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —É—Ä–æ–≤–Ω–µ–π VWAP

**VWAP¬†Levels¬†API**¬†‚Äî –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI, –∫–æ—Ç–æ—Ä—ã–π —á–µ—Ä–µ–∑ Tinkoff¬†Invest¬†API –ø–æ–ª—É—á–∞–µ—Ç –º–∏–Ω—É—Ç–Ω—ã–µ —Å–≤–µ—á–∏, –≤—ã—á–∏—Å–ª—è–µ—Ç –¥–Ω–µ–≤–Ω–æ–π VWAP –∏ —Å—Ç—Ä–æ–∏—Ç —É—Ä–æ–≤–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è:

\[
\text{Support}=VWAP-\sigma,\quad
\text{Resistance}=VWAP+\sigma,
\]

–≥–¥–µ¬†\(\sigma\)¬†‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ \(Price-VWAP\) –∑–∞ —Ç–æ—Ä–≥–æ–≤—É—é —Å–µ—Å—Å–∏—é.

---

## ‚öôÔ∏è –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Python¬†‚â•‚ÄØ3.13**.  
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` ‚Üí `.env` –∏ –ø—Ä–æ–ø–∏—à–∏—Ç–µ:  
   ```dotenv
   TINKOFF_INVEST_TOKEN=–í–ê–®_–¢–û–ö–ï–ù
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   # uv:
   # pip install uv && uv sync
   ```

### 2. –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
uv run uvicorn vwap_levels.vwap_levels:app --reload --port 8001
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ä—Ç—É–µ—Ç –Ω–∞¬†`http://127.0.0.1:8001/`.

* Swagger‚Äë–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://127.0.0.1:8001/docs`
* ReDoc:¬†`http://127.0.0.1:8001/redoc`

### 3. –ó–∞–ø—É—Å–∫ –≤¬†Docker

```bash
docker compose up --build
```

`docker-compose.yml` –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç¬†8001 –Ω–∞—Ä—É–∂—É, —Ç–∞–∫ —á—Ç–æ API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8001/`.

---

## üõ†Ô∏è API Reference

### `GET /vwap-levels`

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|-----------------------|-----------|
| `ticker` | str  | ‚Äî | –ë–∏—Ä–∂–µ–≤–æ–π —Ç–∏–∫–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä¬†`SBER`) |
| `uid` | str¬†(UUID) | ‚Äî | UID –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ Tinkoff¬†Invest |
| `date` | `YYYY-MM-DD` | —Å–µ–≥–æ–¥–Ω—è (UTC) | –î–∞—Ç–∞ —Ç–æ—Ä–≥–æ–≤ |

#### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞

```bash
curl "http://localhost:8001/vwap-levels?ticker=SBER&uid=BBG004730N88&date=2025-07-25"
```

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "vwap": 309.270076352609,
  "support": 308.9037285744276,
  "resistance": 309.63642413079043,
  "std": 0.3663477781814088
}
```

---

## üì¶ Docker‚Äë–æ–±—Ä–∞–∑

Dockerfile –ª–µ–∂–∏—Ç –≤ `src/vwap_levels/Dockerfile` (–±–∞–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ `python:3.13-slim`). –û—Å–Ω–æ–≤–Ω—ã–µ —à–∞–≥–∏:

1. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ –≤¬†`/app`.
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
3. –≠–∫—Å–ø–æ—Ä—Ç –ø–æ—Ä—Ç–∞¬†8000.
4. –ó–∞–ø—É—Å–∫ `uvicorn vwap_levels.vwap_levels:app`.

---
